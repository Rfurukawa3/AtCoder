# 数学的な問題を解くコツ

p.p.107-116

## 例題 2-6-1　線分上の格子点の個数

### 公約数を全て求める問題

[AOJ 0583 公約数](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0583)

<details><summary>ソースコード</summary><div>

```C++
template<typename T> T gcd(T a, T b) {
    if (a < b) return gcd(b, a);
    T r;
    while ((r = a % b)) {
        a = b;
        b = r;
    }
    return b;
}

signed main()
{
    int n;
    cin >> n;
    vector<int> a(n);
    for (auto& ai : a) cin >> ai;

    int g = gcd(a[0], a[1]);
    if (n == 3) g = gcd(g, a[2]);

    int i = 1;
    while (i <= g) {
        if (g % i == 0) cout << i << '\n';
        i++;
    }
    return 0;
}
```

</div></details>

## 例題 2-6-2　双六

### 拡張ユークリッドの互除法で ax + by = gcd(a,b) を解く

[AOJ Course NTL_1_E - 拡張ユークリッドの互除法](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=NTL_1_E&lang=ja)

<details><summary>ソースコード</summary><div>

```C++
template<typename T> T extgcd(T a, T b, T& x, T& y) {
    T d = a;
    if (b != 0) {
        d = extgcd(b, a % b, y, x);
        y -= (a / b) * x;
    }
    else {
        x = 1; y = 0;
    }
    return d;
}

signed main()
{
    int a, b, x, y;
    cin >> a >> b;
    extgcd(a, b, x, y);
    cout << x << ' ' << y << '\n';
    return 0;
}
```

</div></details>

## 例題 2-6-3　素数判定

### 素数判定

[ARC 017 A 素数、コンテスト、素数](https://atcoder.jp/contests/arc017/tasks/arc017_1)

<details><summary>ソースコード</summary><div>

```C++
signed main()
{
    int N;
    cin >> N;

    int i = 2;
    while (i <= ceil(sqrt(N))) {
        if (N % i == 0) {
            cout << "NO\n";
            return 0;
        }
        i++;
    }
    cout << "YES\n";
    return 0;
}
```

</div></details>

## 例題 2-6-4　素数の個数

### N未満の素数の個数

[天下一プログラマーコンテスト2012 予選C A 与えられた数より小さい素数の個数について](https://atcoder.jp/contests/tenka1-2012-qualc/tasks/tenka1_2012_9)

<details><summary>ソースコード</summary><div>

```C++
template<typename T> T Eratosthenes(const T N) {
    std::vector<bool> is_prime(N + 1, true);
    T result = 0;
    T lim = ceil(sqrt(N));
    for (T i = 2; i <= lim; i++) {
        if (is_prime[i]) {
            for (T j = i * i; j <= N; j += i) is_prime[j] = false;
            result++;
        }
    }
    for (T i = lim + 1; i < N; i++) {
        if (is_prime[i]) result++;
    }
    return result;
}

signed main()
{
    int N;
    cin >> N;
    if (N < 3) cout << "0\n";
    else cout << Eratosthenes(N) <<"\n";
    return 0;
}
```

</div></details>

## 例題

### tmp

[](https)

<details><summary>ソースコード</summary><div>

```C++

```

</div></details>
